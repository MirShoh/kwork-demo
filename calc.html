<!doctype html>
<html lang="ru">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Demo Site</title>
        <script src="js/wow.min.js"></script>
        <script>new WOW().init();</script>
        <link href="css.css?family=Montserrat:300,400,500,700&amp;subset=cyrillic" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="css/styles.css">
        <link rel="apple-touch-icon" sizes="57x57" href="img/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="img/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="img/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="img/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="img/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon-180x180.png">
        <script src="js/jquery.js"></script>
        <script src="2.1/json.txt?lang=ru_RU" type="text/javascript"></script>
    </head>
    <body>
    <div class="wrapper">
        <div class="backmain" id="backmain">
            <header class="header">
    <nav class="nav">
        <div class="container">
            <div class="col-lg-6">
                <div class="logo">
                    <a href="index.htm"><img src="img/demo1.png" class="anime" style="animation-delay:.5s; border-radius: 50%; height: 150px; width: 150px;"></a>
                </div>
            </div>
            <div class="col-lg-6">
                <p class="nav__info text-right">TEXT</p>
            </div>
        </div>
    </nav>
</header>
<div class="container info">
    <div class="col-lg-6"></div>
    <div class="col-lg-6 text-right">
        <ul class="info__ul">
            <li class="info__ul-li top info__location pointer">Address <img src="img/location.svg" width="32" height="32"></li>
            <li class="info__ul-li top info__phone" style="animation-delay:.2s;"><a href="tel:+998974203568">+99890 123-45-67</a> <img src="img/phone.svg" width="32" height="32"></li>
            <li class="info__ul-li top info__email" style="animation-delay:.3s;"><a href="mailto:rammet90@mail.ru">demosite@mail.ru</a> <img src="img/mail.svg" width="32" height="32"></li>
        </ul>
    </div>
</div>       
    <link rel="stylesheet" href="css/form-style.css" type="text/css">
<div class="container fix">
    <div id='result_calc_page'>
    <div class="calc-title">
        <div class="h3-calc"><h3>КАЛЬКУЛЯТОР</h3></div>
        <div class="h3-info">
            <span>Бесцветная 4-х клапанная коробка</span>
        </div>
    </div>
    <br>
    <div class="left-info">
        <span>1</span>
        <b>Выберите цвет картона</b>
    </div>
    <div class="sortable" id="id_1">
        <ul class="inline-label">
            <li>
                <input name="radio_3" id="radio_3_1" type="radio" value="0" checked="">
                <label name="3" for="radio_3_1">Белый</label>
            </li>
            <li>
                <input name="radio_3" id="radio_3_2" type="radio" value="1">
                <label name="3" for="radio_3_2">Бурый</label>
            </li>
        </ul>
    </div>
    <div class="left-info">
        <span>2</span>
        <b>Выберите тип коробки</b>
    </div>
    <div class="sortable inline-label" id="id_2">
        <ul class="inline-label">
            <li>
                <input name="radio_4" type="radio" id="radio_4_1" value="0" checked="">
                <label name="4" for="radio_4_1">3-слойная</label>
            </li>
            <li>
                <input name="radio_4" type="radio" id="radio_4_2" value="1">
                <label name="4" for="radio_4_2">5-слойная</label>
            </li>
        </ul>
    </div>
    <div class="left-info">
        <span>3</span>
        <b>Выберите тип бумаги</b>
    </div>
    <div class="sortable inline-label" id="id_3" style="display: none;">
        <ul class="inline-label">
            <li>
                <input name="radio_5" type="radio" id="radio_5_1" value="0" checked="">
                <label name="5" for="radio_5_1">Местная</label>
            </li>
            <li>
                <input name="radio_5" type="radio" id="radio_5_2" value="1">
                <label name="5" for="radio_5_2">Крафт</label>
            </li>
            <li>
                <input name="radio_5" type="radio" id="radio_5_3" value="2">
                <label name="5" for="radio_5_3">Россия</label>
            </li>
        </ul>
    </div>
    <div class="sortable inline-label" id="id_7">
        <ul class="inline-label">
            <li>
                <input name="radio_6" type="radio" id="radio_6_1" value="0" checked="">
                <label name="6" for="radio_6_1">Местная</label>
            </li>
            <li>
                <input name="radio_6" type="radio" id="radio_6_2" value="1">
                <label name="6" for="radio_6_2">MONDIY</label>
            </li>
        </ul>
    </div>
    <div class="left-info">
        <span>4</span>
        <b>Размер коробки (мм)</b>
    </div>
    <div class="sortable">
        <ul class="w-param">
            <li>
                <p id="id_4">Длина (Д):
                    <br>
                    <input class="sure_field" placeholder="Длина" type="input" value="460">
                </p>
            </li>
            <li>
                <p id="id_5">Ширина (Ш):
                    <br>
                    <input class="sure_field" placeholder="Ширина" type="input" value="155">
                </p>
            </li>
            <li>
                <p id="id_6">Высота (В):
                    <br>
                    <input class="sure_field" placeholder="Высота" type="input" value="345">
                </p>
            </li>
            <li class="box-img">
                <img src="img/box.svg" alt="Коробка">
            </li>
        </ul>
    </div>
    <br>
    <div class="result">
        <span id='view_result'></span><br>
        <button id='get_result'>Рассчитать</button>
    </div>
</div>

</div>


<script>
function tpl ( ch ) {
if (ch == "bel") {
document.getElementById('id_3').style.display = 'none';
document.getElementById('id_7').style.display = 'inline-block';
}
if (ch == "bur") {
document.getElementById('id_7').style.display = 'none';
document.getElementById('id_3').style.display = 'inline-block';
}
};
$(document).ready(function(){ 
    $('#radio_3_1').change(function(){ 
        if($(this.checked)) tpl('bel'); 
    });
    $('#radio_3_2').change(function(){ 
        if($(this.checked)) tpl('bur'); 
    }); 
});
 $(document).ready(function(){
            
            $('.hidden_field').parent().hide();
            
            $('#get_result').click(function(){
                
                var sure_field_count = 0;
//my
var L = eval("(parseFloat($('#id_4 input').val())+parseFloat($('#id_5 input').val()))*2+70");
var y1 = eval("(parseFloat($('#id_5 input').val())+parseFloat($('#id_6 input').val()))*2+40");
var y2 = eval("(parseFloat($('#id_5 input').val())+parseFloat($('#id_6 input').val()))*3+40");

var sloi_3 = ['3250','3520','3900'];
var sloi_5 = ['5500','5730','6200'];

var cena_buraya_mestnaya = eval("parseFloat($('input:radio[name=radio_4]:checked').val() == 0?sloi_3[0]:sloi_5[0])");

var cena_buraya_craft = eval("parseFloat($('input:radio[name=radio_4]:checked').val() == 0?sloi_3[1]:sloi_5[1])");

var cena_buraya_russia = eval("parseFloat($('input:radio[name=radio_4]:checked').val() == 0?sloi_3[2]:sloi_5[2])");

var sloi_3_white = ['3800','4630'];
var sloi_5_white = ['6080','6250'];

var cena_white_mestnaya = eval("parseFloat($('input:radio[name=radio_4]:checked').val() == 0?sloi_3_white[0]:sloi_5_white[0])");

var cena_white_mondiy = eval("parseFloat($('input:radio[name=radio_4]:checked').val() == 0?sloi_3_white[1]:sloi_5_white[1])");

var format_buraya = ['850','900','1010','1050','1150','1250','1350'];
var buraya_y1_1 = (y1 - format_buraya[0] <0 ? format_buraya[0]:0);
var buraya_y1_2 = (y1 - format_buraya[1] <0 ? format_buraya[1]:0);
var buraya_y1_3 = (y1 - format_buraya[2] <0 ? format_buraya[2]:0);
var buraya_y1_4 = (y1 - format_buraya[3] <0 ? format_buraya[3]:0);
var buraya_y1_5 = (y1 - format_buraya[4] <0 ? format_buraya[4]:0);
var buraya_y1_6 = (y1 - format_buraya[5] <0 ? format_buraya[5]:0);
var buraya_y1_7 = (y1 - format_buraya[6] <0 ? format_buraya[6]:0);
var buraya_y = [buraya_y1_1, buraya_y1_2, buraya_y1_3, buraya_y1_4, buraya_y1_5, buraya_y1_6, buraya_y1_7];
var buraya_yfix = buraya_y.filter( // вызываем переданную функцию один раз для каждого элемента массива, формируя новый массив
  function checkNumber( currentValue ) {
    return currentValue > 1;
  }
);
var buraya_y2_1 = (y2 - format_buraya[0] <0 ? format_buraya[0]:0);
var buraya_y2_2 = (y2 - format_buraya[1] <0 ? format_buraya[1]:0);
var buraya_y2_3 = (y2 - format_buraya[2] <0 ? format_buraya[2]:0);
var buraya_y2_4 = (y2 - format_buraya[3] <0 ? format_buraya[3]:0);
var buraya_y2_5 = (y2 - format_buraya[4] <0 ? format_buraya[4]:0);
var buraya_y2_6 = (y2 - format_buraya[5] <0 ? format_buraya[5]:0);
var buraya_y2_7 = (y2 - format_buraya[6] <0 ? format_buraya[6]:0);
var buraya_y2 = [buraya_y2_1, buraya_y2_2, buraya_y2_3, buraya_y2_4, buraya_y2_5, buraya_y2_6, buraya_y2_7];
var buraya_y2fix = buraya_y2.filter( // вызываем переданную функцию один раз для каждого элемента массива, формируя новый массив
  function checkNumber( currentValue ) {
    return currentValue > 1;
  }
);

var format_belaya = ['950','1050','1250','1350'];
var belaya_y1_1 = (y1 - format_belaya[0] <0 ? format_belaya[0]:0);
var belaya_y1_2 = (y1 - format_belaya[1] <0 ? format_belaya[1]:0);
var belaya_y1_3 = (y1 - format_belaya[2] <0 ? format_belaya[2]:0);
var belaya_y1_4 = (y1 - format_belaya[3] <0 ? format_belaya[3]:0);
var belaya_y = [belaya_y1_1, belaya_y1_2, belaya_y1_3, belaya_y1_4];
var belaya_yfix = belaya_y.filter( // вызываем переданную функцию один раз для каждого элемента массива, формируя новый массив
  function checkNumber( currentValue ) {
    return currentValue > 1;
  }
);
var belaya_y2_1 = (y2 - format_belaya[0] <0 ? format_belaya[0]:0);
var belaya_y2_2 = (y2 - format_belaya[1] <0 ? format_belaya[1]:0);
var belaya_y2_3 = (y2 - format_belaya[2] <0 ? format_belaya[2]:0);
var belaya_y2_4 = (y2 - format_belaya[3] <0 ? format_belaya[3]:0);
var belaya_y2 = [belaya_y2_1, belaya_y2_2, belaya_y2_3, belaya_y2_4];
var belaya_y2fix = belaya_y2.filter( // вызываем переданную функцию один раз для каждого элемента массива, формируя новый массив
  function checkNumber( currentValue ) {
    return currentValue > 1;
  }
);


var f1fix = eval("parseFloat($('input:radio[name=radio_3]:checked').val()) == 1?Math.min.apply(null,buraya_yfix):Math.min.apply(null,belaya_yfix)");

var f2fix = eval("parseFloat($('input:radio[name=radio_3]:checked').val()) == 1?Math.min.apply(null,buraya_y2fix):Math.min.apply(null,belaya_y2fix)");
if (f1fix == "Infinity") {
    var f1 = 0;
} else {
    var f1 = f1fix;
};
if (f2fix == "Infinity") {
    var f2 = 0;
} else {
    var f2 = f2fix;
};
var Sorted = Math.max.apply(null,[f1,f2]) > 0?Math.max.apply(null,[f1,f2]):0;

var Calc = L * Sorted / 1000;

var S1 = Calc / 2 / 1000;

var S2 = Calc / 3 / 1000;
var price = eval("(Sorted===f1?S1:S2)*((($('input:radio[name=radio_3]:checked').val()) == 1?(($('input:radio[name=radio_5]:checked').val()) == 0?cena_buraya_mestnaya:(($('input:radio[name=radio_5]:checked').val()) == 1?cena_buraya_craft:cena_buraya_russia)):(($('input:radio[name=radio_6]:checked').val()) == 0?cena_white_mestnaya:cena_white_mondiy)))");

        $('.sure_field').each(function(){       
            if( $(this).val() == '' ) sure_field_count++;           
        });

        if( sure_field_count == 0 ){
            result_proc = price;

            if( isNaN(result_proc) ) $('#view_result').html('Поля заполнены неверно!');
            if( result_proc == "Infinity" ) $('#view_result').html('Размеры коробки заполнены неверно!');
            else $('#view_result').html("Цена коробки <b>" + Math.ceil(result_proc)+"</b> UZS");    
        }               
        else $('#view_result').html('Не заполнены обязательные поля!');
    });
});
</script>
</div>
<footer id="footer">
    <div class="container">
        <div class="col-lg-4 col-md-4">
            <div class="footer__rights">
                &copy; 2022 All rights are reserved
            </div>
        </div>
        <div class="col-lg-4 col-md-4 text-center">
            <ul class="footer__ul text-center">
                <li class="footer__ul-li">
                    <a href="#"><img width="30" src="img/social2.png"></a>
                </li>
                <li class="footer__ul-li">
                    <a href="#"><img width="30" src="img/social3.png"></a>
                </li>
            </ul>
        </div>
    </div>
    <a class="tgfix" href="#"><img src="img/tg.svg" alt="Telegram"></a>  
</footer>   
</div>
        <div id="preloader"> 
            <div id="loader-img">
                <div id="loader"></div> 
            </div>
            <div id="panel_left" class='loader-section section-left'></div>
            <div id="panel_right" class='loader-section section-right'></div>
        </div>
        <div class="model">
            <div id="map"></div>
        </div>
        <div class="back"></div>
      <script>
          function showModal(){
            $('.model').fadeIn('fast');
            $('.back').fadeIn('fast');
          }
          function hideModal(){
            $('.model').fadeOut('fast');
            $('.back').fadeOut('fast');
          }
          $('.info__location').on('click',showModal);
          $('.back').on('click',hideModal);

          document.onreadystatechange = function() {
            if (document.readyState === "complete") {
                ymaps.ready(init);
                function init(){ 
                    var myMap = new ymaps.Map("map", {
                        center: [41.179722, 69.237556],
                        zoom: 15,
                        controls:['typeSelector'],
                        }); 
                    myMap.behaviors.disable('scrollZoom')
                    
                    var myPlacemark = new ymaps.Placemark([41.179722, 69.237556]);
                    
                    myMap.geoObjects.add(myPlacemark);
                }
                $("#panel_left").addClass("panel_left");
                $("#panel_right").addClass("panel_right");
                $("#loader").addClass("loaded-circle");
                $("#loader-img").addClass("loaded-img");
                $("#preloader").addClass("loaded-img");
                setTimeout(function(){
                    $('.anime').addClass('animated flipInX');
                    $('.top').addClass('animated bounceInLeft');
                    $('.center').addClass('animated bounceInUp');
                },500); 
                if( $(window).width() >= 992 ){
                    $('.nav').addClass('movement');
                    //$('.backmain').addClass('backmain1');
                    $('#footer').addClass('footer');
                }
                else{
                    $('.nav').addClass('movement-mobile');
                    $('#footer').addClass('footer2');
                }
            }
        }
      </script>
    </body>
</html>